<div class="note">
    <div class="main-container">
		{{#Tags}}
        <div class="tags-container">{{Tags}}</div>
	    {{/Tags}}
        <div class="text">{{cloze:Text}}</div>
    </div>
	{{#Extra}}
    <div class="divider"><hr /></div>
    <div class="extra-container">
        <div class="extra">{{Extra}}</div>
    </div>
	{{/Extra}}
</div>

<script>
    /* SPLIT HIERARCHICAL TAGS */
    var tagEl = document.querySelector(".tags-container");
    if (tagEl) {
        var tags = tagEl.innerHTML.split(" ");
        var html = "";
        tags.forEach(function (tag) {
            if (tag != false) {
                if (tag.includes("::")) {
                    var topleveltag = tag.substring(0, tag.indexOf("::"));
                    var bottomleveltag = tag.substring(
                        tag.lastIndexOf("::") + 2
                    );
                } else {
                    var bottomleveltag = tag;
                }
                var newTag =
                    '<span class="tag ' +
                    topleveltag +
                    " " +
                    bottomleveltag +
                    '">' +
                    bottomleveltag +
                    "</span>";
                html += newTag;
            }
        });
        tagEl.innerHTML = html;
    }
</script>
